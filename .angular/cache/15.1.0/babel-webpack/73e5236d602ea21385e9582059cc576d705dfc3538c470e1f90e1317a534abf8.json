{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { SubSink } from 'subsink';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/bands.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/checkbox\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/form-field\";\nfunction AddBandComponent_mat_error_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Required Field \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddBandComponent_mat_error_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Required Field \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddBandComponent_mat_error_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Required Field \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddBandComponent_mat_error_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Required Field \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddBandComponent_mat_form_field_29_mat_error_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Required Field \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddBandComponent_mat_form_field_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 4);\n    i0.ɵɵelement(1, \"input\", 14);\n    i0.ɵɵtemplate(2, AddBandComponent_mat_form_field_29_mat_error_2_Template, 2, 0, \"mat-error\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.bandForm.controls.disbandingYear.errors);\n  }\n}\nexport let AddBandComponent = /*#__PURE__*/(() => {\n  class AddBandComponent {\n    ngOnDestroy() {\n      this.subs.unsubscribe();\n    }\n    constructor(bandsService, router, fb) {\n      this.bandsService = bandsService;\n      this.router = router;\n      this.fb = fb;\n      this.subs = new SubSink();\n    }\n    ngOnInit() {\n      this.setForm();\n      this.subs.sink = this.bandForm.controls.isDisbanding.valueChanges.subscribe(val => {\n        if (val) {\n          this.bandForm.controls.disbandingYear.setValidators(Validators.required);\n        } else {\n          this.bandForm.controls.disbandingYear.clearValidators();\n        }\n        this.bandForm.controls.disbandingYear.updateValueAndValidity();\n      });\n    }\n    setForm() {\n      this.bandForm = this.fb.group({\n        name: [null, Validators.required],\n        origin: [null, Validators.required],\n        activeYears: [null, Validators.required],\n        website: [null, Validators.required],\n        isDisbanding: [null],\n        disbandingYear: [null]\n      });\n    }\n    onSubmit() {\n      this.bandsService.addBand(this.bandForm.value);\n      this.navigateToBands();\n    }\n    navigateToBands() {\n      this.router.navigate(['/show-bands']);\n    }\n  }\n  AddBandComponent.ɵfac = function AddBandComponent_Factory(t) {\n    return new (t || AddBandComponent)(i0.ɵɵdirectiveInject(i1.BandsService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.FormBuilder));\n  };\n  AddBandComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddBandComponent,\n    selectors: [[\"app-add-band\"]],\n    decls: 33,\n    vars: 7,\n    consts: [[1, \"add-band-component\"], [1, \"bandForm\", 3, \"formGroup\", \"ngSubmit\"], [1, \"section\"], [1, \"label\"], [\"appearance\", \"outline\", 1, \"val\"], [\"matInput\", \"\", \"data-test\", \"band-name\", \"placeholder\", \"name\", \"formControlName\", \"name\"], [4, \"ngIf\"], [\"matInput\", \"\", \"data-test\", \"band-origin\", \"placeholder\", \"origin\", \"formControlName\", \"origin\"], [\"matInput\", \"\", \"data-test\", \"band-active-years\", \"placeholder\", \"years\", \"formControlName\", \"activeYears\"], [\"matInput\", \"\", \"data-test\", \"band-website\", \"placeholder\", \"website\", \"formControlName\", \"website\"], [\"data-test\", \"band-isDisbanding\", \"formControlName\", \"isDisbanding\", 1, \"label\", \"black-checkbox\"], [\"class\", \"val\", \"appearance\", \"outline\", 4, \"ngIf\"], [1, \"footer\"], [\"mat-raised-button\", \"\", \"data-test\", \"band-submit\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\"], [\"matInput\", \"\", \"data-test\", \"band-disbandingYear\", \"placeholder\", \"Enter year\", \"formControlName\", \"disbandingYear\"]],\n    template: function AddBandComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function AddBandComponent_Template_form_ngSubmit_1_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3);\n        i0.ɵɵtext(4, \"Name: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"mat-form-field\", 4);\n        i0.ɵɵelement(6, \"input\", 5);\n        i0.ɵɵtemplate(7, AddBandComponent_mat_error_7_Template, 2, 0, \"mat-error\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"div\", 2)(9, \"div\", 3);\n        i0.ɵɵtext(10, \"Origin: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"mat-form-field\", 4);\n        i0.ɵɵelement(12, \"input\", 7);\n        i0.ɵɵtemplate(13, AddBandComponent_mat_error_13_Template, 2, 0, \"mat-error\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 2)(15, \"div\", 3);\n        i0.ɵɵtext(16, \"Years active: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"mat-form-field\", 4);\n        i0.ɵɵelement(18, \"input\", 8);\n        i0.ɵɵtemplate(19, AddBandComponent_mat_error_19_Template, 2, 0, \"mat-error\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 2)(21, \"div\", 3);\n        i0.ɵɵtext(22, \"Website: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"mat-form-field\", 4);\n        i0.ɵɵelement(24, \"input\", 9);\n        i0.ɵɵtemplate(25, AddBandComponent_mat_error_25_Template, 2, 0, \"mat-error\", 6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"div\", 2)(27, \"mat-checkbox\", 10);\n        i0.ɵɵtext(28, \" Disbanding Year \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(29, AddBandComponent_mat_form_field_29_Template, 3, 1, \"mat-form-field\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"div\", 12)(31, \"button\", 13);\n        i0.ɵɵtext(32, \" Submit \");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.bandForm);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.bandForm.controls.name.errors);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.bandForm.controls.origin.errors);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.bandForm.controls.activeYears.errors);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.bandForm.controls.website.errors);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.bandForm.controls.isDisbanding.value);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.bandForm.invalid);\n      }\n    },\n    dependencies: [i4.NgIf, i5.MatButton, i6.MatCheckbox, i7.MatInput, i8.MatFormField, i8.MatError, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName],\n    styles: [\".add-band-component[_ngcontent-%COMP%]{padding:20px;display:flex;align-items:center;justify-content:center}.add-band-component[_ngcontent-%COMP%]   .bandForm[_ngcontent-%COMP%]{width:50%}.add-band-component[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.add-band-component[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .add-band-component[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{flex:0 0 auto;padding-inline:10px}.add-band-component[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:16.6666666667%;padding-bottom:1.34375em;display:flex;align-items:center}.add-band-component[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{width:83.3333333333%}\"]\n  });\n  return AddBandComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}